{% load static %}
<!DOCTYPE html>
<html lang="sw">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fomu ya Usajili wa Mshirika wa Kanisa</title>
  <link rel="stylesheet" href="{% static 'css/register.css' %}">
</head>
<body>
  <div class="container">
    <h2>Fomu ya Usajili wa Mshirika wa Kanisa</h2>
    
    <!-- Progress Bar -->
    <div class="form-progress">
      <div class="progress-bar">
        <div class="progress-fill"></div>
      </div>
      <div class="progress-text">Hatua 1 ya 4</div>
    </div>

    <form id="memberForm" method="POST" novalidate>
      {% csrf_token %}
      <div id="formError" class="form-error" role="alert" aria-live="polite"></div>

      <!-- Personal Information Section -->
      <div class="form-section">
        <h3>Taarifa za Kibinafsi</h3>
        
        <div class="form-group">
          <label for="full_name" class="required">Jina Kamili</label>
          <input type="text" id="full_name" name="full_name" required 
                 aria-describedby="error-full_name" 
                 placeholder="Ingiza jina lako kamili">
          <div class="error" id="error-full_name" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="gender" class="required">Jinsia</label>
          <select id="gender" name="gender" required aria-describedby="error-gender">
            <option value="">Chagua...</option>
            <option value="Male">Mwanaume</option>
            <option value="Female">Mwanamke</option>
            <option value="Prefer not to say">Sipendi kusema</option>
          </select>
          <div class="error" id="error-gender" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="age_category" class="required">Kundi la Umri</label>
          <select id="age_category" name="age_category" required aria-describedby="error-age_category">
            <option value="">Chagua...</option>
            <option value="Mtoto">Mtoto (chini ya miaka 13)</option>
            <option value="Kijana">Kijana (miaka 13-25)</option>
            <option value="Mtu mzima">Mtu mzima (zaidi ya miaka 25)</option>
          </select>
          <div class="error" id="error-age_category" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="dob">Tarehe ya Kuzaliwa</label>
          <input type="date" id="dob" name="dob" aria-describedby="error-dob">
          <div class="error" id="error-dob" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="marital_status">Hali ya Ndoa</label>
          <select id="marital_status" name="marital_status" aria-describedby="error-marital_status">
            <option value="">Chagua...</option>
            <option value="Single">Bila ndoa</option>
            <option value="Married">Kwenye ndoa</option>
            <option value="Divorced">Talaka</option>
            <option value="Widowed">Mjane</option>
          </select>
          <div class="error" id="error-marital_status" role="alert"></div>
        </div>
      </div>

      <!-- Contact Information Section -->
      <div class="form-section">
        <h3>Taarifa za Mawasiliano</h3>
        
        <div class="form-group">
          <label for="phone">Namba ya Simu</label>
          <input type="tel" id="phone" name="phone" 
                 aria-describedby="error-phone"
                 placeholder="Mfano: 0712345678">
          <div class="error" id="error-phone" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="email">Barua Pepe</label>
          <input type="email" id="email" name="email" 
                 aria-describedby="error-email"
                 placeholder="mfano@email.com">
          <div class="error" id="error-email" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="address" class="required">Anuani ya Nyumbani</label>
          <input type="text" id="address" name="address" required 
                 aria-describedby="error-address"
                 placeholder="Ingiza anuani yako ya nyumbani">
          <div class="error" id="error-address" role="alert"></div>
        </div>
      </div>

      <!-- Spiritual Information Section -->
      <div class="form-section">
        <h3>Taarifa za Kiroho</h3>
        
        <div class="form-group">
          <label for="salvation_date">Tarehe ya Kuokoka</label>
          <input type="date" id="salvation_date" name="salvation_date" 
                 aria-describedby="error-salvation_date">
          <div class="error" id="error-salvation_date" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="baptized" class="required">Umebatizwa?</label>
          <select id="baptized" name="baptized" required aria-describedby="error-baptized">
            <option value="">Chagua...</option>
            <option value="Yes">Ndio</option>
            <option value="No">Hapana</option>
          </select>
          <div class="error" id="error-baptized" role="alert"></div>
        </div>

        <div class="form-group conditional-field">
          <label for="baptism_date">Tarehe ya Ubatizo</label>
          <input type="date" id="baptism_date" name="baptism_date" 
                 aria-describedby="error-baptism_date">
          <div class="error" id="error-baptism_date" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="membership_class">Umehudhuria Darasa la Ushirika?</label>
          <select id="membership_class" name="membership_class" aria-describedby="error-membership_class">
            <option value="">Chagua...</option>
            <option value="Yes">Ndio</option>
            <option value="No">Hapana</option>
            <option value="Not Yet">Bado</option>
          </select>
          <div class="error" id="error-membership_class" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="previous_church">Kanisa la Awali (kama lipo)</label>
          <input type="text" id="previous_church" name="previous_church" 
                 aria-describedby="error-previous_church"
                 placeholder="Jina la kanisa ulilokuwa ukihudhuria">
          <div class="error" id="error-previous_church" role="alert"></div>
        </div>
      </div>

      <!-- Emergency Contact & Membership Section -->
      <div class="form-section">
        <h3>Mtu wa Dharura na Aina ya Ushirika</h3>
        
        <div class="form-group">
          <label for="emergency_name" class="required">Jina la Mtu wa Dharura</label>
          <input type="text" id="emergency_name" name="emergency_name" required 
                 aria-describedby="error-emergency_name"
                 placeholder="Jina kamili la mtu wa dharura">
          <div class="error" id="error-emergency_name" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="emergency_relation" class="required">Mahusiano</label>
          <input type="text" id="emergency_relation" name="emergency_relation" required 
                 aria-describedby="error-emergency_relation"
                 placeholder="Mfano: Mzazi, Ndugu, Rafiki">
          <div class="error" id="error-emergency_relation" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="emergency_phone" class="required">Namba ya Simu ya Dharura</label>
          <input type="tel" id="emergency_phone" name="emergency_phone" required 
                 aria-describedby="error-emergency_phone"
                 placeholder="Mfano: 0712345678">
          <div class="error" id="error-emergency_phone" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="membership_type" class="required">Aina ya Ushirika</label>
          <select id="membership_type" name="membership_type" required aria-describedby="error-membership_type">
            <option value="">Chagua...</option>
            <option value="New">Mshirika Mpya</option>
            <option value="Transfer">Aliyehamia</option>
            <option value="Returning">Anayerudi</option>
          </select>
          <div class="error" id="error-membership_type" role="alert"></div>
        </div>

        <div class="form-group">
          <label for="registration_date" class="required">Tarehe ya Usajili</label>
          <input type="date" id="registration_date" name="registration_date" required 
                 aria-describedby="error-registration_date">
          <div class="error" id="error-registration_date" role="alert"></div>
        </div>
      </div>

      <div class="btn-container">
        <button type="submit">
          <span class="loading-spinner"></span>
          Sajili
        </button>
      </div>
    </form>
  </div>

  <script src="{% static 'js/register.js' %}"></script>
</body>
</html>
